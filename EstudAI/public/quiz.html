<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz</title>
    <link rel="stylesheet" href="quiz.css">
    <link rel="stylesheet" href="global.css">
    <link rel="shortcut icon" href="assets/logokbeca.ico" type="image/x-icon">
</head>
<body>

  <div class="home-bar">
    <nav>
      <a href="index.html" class="home">INICIO</a>
      <a href="dashboard.html">QUIZ</a>
      <a href="#">SOBRE</a>
      <h1 class="logo">EstudAI</h1>
      <a href="index.html" class="btn-logo"></a>
    </nav>
  </div>

  <div class="login">
    <a href="sign-in.html" class="login-link">LOGIN</a>
  </div>

  <img src="assets/user.png" id="userProfile" onclick="toggleMenu()">

  <div id="subMenu" class="sub-menu-wrap">
    <div class="sub-menu">
      <div class="user-info">
        <img src="assets/user.png">
        <h3 class="username" id="username">Usu√°rio</h3>
      </div>
      <hr>

      <a href="perfil.html" class="sub-menu-link">
        <img src="assets/profile.png">
        <p>Perfil</p>
        <span>></span>
      </a>

      <a href="dashboard.html" class="sub-menu-link">
        <img src="assets/profile.png">
        <p>Dashboard</p>
        <span>></span>
      </a>

      <a href="#" class="sub-menu-link">
        <img src="assets/setting.png">
        <p>Miss√µes Di√°rias</p>
        <span>></span>
      </a>

      <a href="#" class="sub-menu-link">
        <img src="assets/help.png">
        <p>Ajuda</p>
        <span>></span>
      </a>

      <a href="#" class="sub-menu-link">
        <img src="assets/logout.png">
        <p>Sair</p>
        <span>></span>
      </a>
    </div>
  </div>

  <div id="openMissions" class="missions">
    <button id="btnMissions" class="btnMissions" onclick="toggleMissions()">
      <img src="assets/missions.png" alt="Miss√µes">
    </button>

    <div class="missions-container">
      <h3>üéØ MISS√ïES DI√ÅRIAS</h3>

      <div class="mission-item">
        <label>
          <input type="checkbox" id="studyMission" disabled>
          <span>Estude por 1 hora</span>
        </label>
      </div>

      <div class="mission-item">
        <label>
          <input type="checkbox" id="quizMission" disabled>
          <span>Responda 1 quiz</span>
        </label>
      </div>
    </div>
  </div>


  <main>
    <h1>Conte sobre o que voc√™ estudou</h1>
    <p class="subtitle">Seja espec√≠fico nas respostas para receber perguntas espec√≠ficas.</p>

    <form id="quizForm">
      <label for="resumo">Resumo do conte√∫do estudado:</label>
      <textarea id="resumo" placeholder="Exemplo: Estudei o ciclo celular, focando nas fases G1, S, G2 e mitose..."></textarea>

      <label for="topicos">Pontos principais:</label>
      <textarea id="topicos" placeholder="Exemplo: Interfase, replica√ß√£o do DNA, cromossomos..."></textarea>

      <fieldset class="checkbox-group">
        <legend>N√≠vel de dificuldade:</legend>
        <label><input type="checkbox" name="dificuldade" value="facil"> F√°cil</label>
        <label><input type="checkbox" name="dificuldade" value="medio"> M√©dio</label>
        <label><input type="checkbox" name="dificuldade" value="dificil"> Dif√≠cil</label>
      </fieldset>

      <fieldset class="checkbox-group">
        <legend>Tipo de pergunta:</legend>
        <label><input type="checkbox" name="tipo" value="multipla"> M√∫ltipla escolha</label>
        <label><input type="checkbox" name="tipo" value="vf"> Verdadeiro ou falso</label>
        <label><input type="checkbox" name="tipo" value="discursiva"> Discursiva</label>
      </fieldset>

      <button type="submit" class="btn-gerar">Gerar Perguntas</button>
    </form>
  </main>

<div id="perguntas"></div>

<script src="quiz.js"></script>
<script src="user-state.js"></script>
<script src="missions.js"></script>

<script>
  let subMenu = document.getElementById("subMenu");

  function toggleMenu(){
    subMenu.classList.toggle("open-menu");
  }

  let openMissions = document.getElementById("openMissions");
    
  function toggleMissions(){
    openMissions.classList.toggle("open-missions");
  }

  // Pega o usu√°rio do localStorage
  const usuario = JSON.parse(localStorage.getItem("usuario") || "{}");

  // Pega o nome, ou "Usu√°rio" como fallback
  const nomeUsuario = usuario.nome || "Usu√°rio";

  // Atualiza o H3
  document.getElementById("username").textContent = nomeUsuario;
</script>
</body>
</html>