<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EstudAI</title>
  <link rel="shortcut icon" href="assets/logokbeca.ico" type="image/x-icon">
  <link rel="stylesheet" href="perfil.css">
  <link rel="stylesheet" href="global.css">
</head>
<body>
  <div class="home-bar">
    <nav>
      <a href="index.html" class="home">INICIO</a>
      <a href="dashboard.html">QUIZ</a>
      <a href="#">SOBRE</a>
      <h1 class="logo">EstudAI</h1>
      <a href="index.html" class="btn-logo"></a>
    </nav>
  </div>

  <div class="containerProfile">
    <div class="user-info">
      <img src="assets/user.png">
      <h3 class="perfilNome" id="perfilNome">Usu√°rio</h3>
    </div>
  </div>

  <div class="perfilMoedas">
    <h2>üí∞ <span id="perfilMoedas"></span></h2>
  </div>

  <div id="openMissions" class="missions">
    <button id="btnMissions" class="btnMissions" onclick="toggleMissions()">
      <img src="assets/missions.png" alt="Miss√µes">
    </button>

    <div class="missions-container">
      <h3>üéØ MISS√ïES DI√ÅRIAS</h3>

      <div class="mission-item">
        <label>
          <input type="checkbox" id="studyMission" disabled>
          <span>Estude por 1 hora</span>
        </label>
      </div>

      <div class="mission-item">
        <label>
          <input type="checkbox" id="quizMission" disabled>
          <span>Responda 1 quiz</span>
        </label>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
  const usuario = JSON.parse(localStorage.getItem("usuario"));

  if (!usuario || !usuario.id) {
    document.getElementById("perfilNome").innerText = "Usu√°rio n√£o logado";
    document.getElementById("perfilMoedas").innerText = "-";
    return;
  }

  // Nome e moedas aparecem instantaneamente
  document.getElementById("perfilNome").innerText = usuario.nome;
  document.getElementById("perfilMoedas").innerText = usuario.moedas ?? 0;
});

  </script>


  <script src="missions.js"></script>

  <script src="user-state.js"></script>
  
</body>
</html>